<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Expires" content="wed, 26 Feb 1997 08:21:57 GMT">
<link href="../dynaform/css_main.css" rel="stylesheet" />
<script src="../dynaform/common.js" type="text/javascript"></script>
<script type="text/javascript"><!--
if(window.parent == window){window.location.href="http://192.168.1.1";}
function Click(){return false;}
document.oncontextmenu=Click;
function doPrev(){history.go(-1);}
//--></script>

<META http-equiv=Content-Type content="text/html; charset=gb2312">
<script language="JavaScript"><!-- 
function getFileSize()
{
	dFile = document.getElementById("filename");
	if((navigator.userAgent.indexOf("MSIE") > 0))
	{
		var fileobject = new ActiveXObject ("Scripting.FileSystemObject");
		var file = fileobject.GetFile(dFile.value);
	    var filesize = file.Size;
		return filesize;
	}
	else
	{
		var size = dFile.files[0].fileSize;
		return size;
	}
}
function doSubmit()
{
	if(document.forms[0].filename.value == "")
	{
		alert("请选择您要载入的文件！");
		return false;
	}
	var tmp = document.forms[0].filename.value;
	if(tmp.substr(tmp.length - 4) != ".bin")
	{
		alert("错误的文件类型，请使用bin类型的载入文件。");
		return false;
	}
	if(getFileSize() > 64*1024)		// 如果载入配置文件大于64K，将提示错误信息
	{
		alert("载入文件太大,请重新确认所需载入的配置文件！");
		return false;
	}
	var arr = tmp.substr(tmp.lastIndexOf('\\') + 1);
	if(arr.length >= 64)
	{
		alert("载入文件文件名过长(需小于64字节)，请修改文件名后再重新尝试。");
		return false;
	}
	if(!confirm("确认要载入配置吗?"))
	{
		return false;
	}
	return true;
}
//--></script></head>
<body>
<center><form action="/incoming/RouterBakCfgUpload.cfg" enctype="multipart/form-data" method="post" onSubmit="return doSubmit();">
<table width="502" border="0" cellspacing="0" cellpadding="0">
<tr><td width="7" class="title"><img src="../userRpm/images/arc.gif" width="7" height="24"></td>
<td width="495" align="left" valign="middle" class="title">备份和载入配置文件</td>
</tr>
<tr>
<td colspan="2">
<table width="502" border="0" cellspacing="0" cellpadding="0">
<tr> 
<td class="vline" rowspan="15"><br> </td>
<td width="500">
<table width="400" border="0" align="center" cellpadding="0" cellspacing="0" class="space">
<tr><td>您可以在这保存您的设置。我们建议您在修改配置及升级软件前备份您的配置文件。</td></tr>
</table> 
<table width="400" border="0" align="center" cellpadding="0" cellspacing="0" class="space">
<tr><td>&nbsp;<input type="button" class="button" name="DownLoad" value="备份配置文件" onClick="location.href='config.bin';"></td></tr>
</table>
<table width="400" border="0" align="center" cellpadding="0" cellspacing="0" class="space">
<tr><td>您可以通过载入配置文件来恢复您的设置。</td></tr>
</table>
<table width="400" border="0" align="center" cellpadding="0" cellspacing="0" class="space" >
<tr><td width="49">路 径：</td>
<td><input class="file" id="filename" name="filename" type="file" size="20" /></td>
<td><input name="Upgrade" type="submit" class="button" id="Submit" value="载入配置文件"></td></tr>
</table>
<table width="400" border="0" align="center" cellpadding="0" cellspacing="0" class="space">
<tr valign="top"><td width="49">注意：</td><td>1、导入配置文件后，设备中原有的用户配置将会丢失。如果您载入的配置文件有误，可能会导致设备无法被管理。</td></tr>
<tr><td></td><td>2、载入配置文件的过程不能关闭路由器电源，否则将导致路由器损坏而无法使用。载入过程约20秒，当载入结束后，路由器将会自动重新启动。</td></tr>
</table>
</td>
<td class="vline" rowspan="15"><br> </td>
</tr>
<tr><td class="hline"><img src="../userRpm/images/empty.gif" width="1" height="1"></td></tr>
<tr><td class="tail">&nbsp;  </td></tr>
<tr><td class="hline"><img src="../userRpm/images/empty.gif" width="1" height="1"></td></tr>
</table></td></tr></table></form></center>
</BODY></HTML>

